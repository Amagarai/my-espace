<ion-content [fullscreen]="true" class="planing-content">
  <!-- Top Navigation -->
  <div class="day-navigation">
    <button class="nav-chevron" (click)="previousDay()">
      <ion-icon name="chevron-back"></ion-icon>
    </button>
    <h1 class="current-day">{{ getCurrentDayName() }}</h1>
    <button class="nav-chevron" (click)="nextDay()">
      <ion-icon name="chevron-forward"></ion-icon>
    </button>
  </div>

  <!-- Aujourd'hui Button -->
  <div class="today-button-container">
    <button class="today-button" (click)="goToToday()">
      <ion-icon name="calendar-outline"></ion-icon>
      <span>Aujourd'hui</span>
    </button>
  </div>

  <!-- Day Selection Tabs -->
  <div class="days-tabs-container">
    <div class="days-tabs">
      @for (day of weekDaysShort; track day.name) {
        <button
          class="day-tab"
          [class.active]="selectedDay === day.name"
          (click)="selectDay(day.name)">
          {{ day.shortName }}
        </button>
      }
    </div>
  </div>

  <!-- Schedule List -->
  <div class="schedule-list-container">
    @if (isLoadingCourses) {
      @for (item of [1, 2]; track item) {
        <div class="schedule-card skeleton-schedule">
          <div class="skeleton-content"></div>
        </div>
      }
    } @else if (getCoursesForSelectedDay().length > 0) {
      @for (course of getCoursesForSelectedDay(); track course.localId || course.id) {
        <div class="schedule-card">
          <h3 class="course-subject">{{ course.matiereName || course.subject }}</h3>
          <div class="course-details-row">
            <div class="detail-item">
              <ion-icon name="book-outline"></ion-icon>
              <span class="course-time">{{ course.heureDebut || course.startTime }} - {{ course.heureFin || course.endTime }}</span>
              <span class="course-room">{{ course.salleName || course.room }}</span>
            </div>
          </div>
          <div class="course-details-row">
            <div class="detail-item">
              <ion-icon name="person-outline"></ion-icon>
              <span class="course-prof">{{ getProfName(course) }}</span>
            </div>
          </div>
        </div>
      }
    } @else {
      <div class="no-courses-message">
        <p>Aucun cours pour ce jour</p>
      </div>
    }
  </div>
</ion-content>
